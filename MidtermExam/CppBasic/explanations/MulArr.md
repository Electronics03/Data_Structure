# 다차원 배열

## 다차원 배열

### 문법

```c
자료형 배열이름[크기1][크기2]...[크기n];
```

- 다차원 배열은 여러 차원의 데이터를 저장하는 배열이다.

### 설명

- 다차원 배열의 이름은 첫 번째 원소의 주소를 나타내는 포인터 역할을 한다.
- 2차원 배열에서 행렬의 각 원소는 메모리 상에 연속적으로 저장된다.
- 행을 우선으로 주소가 저장된다. 하나의 행의 요소들의 주소가 연속적이다.
- 배열의 이름은 상수 포인터로, 다른 메모리를 가리키도록 변경할 수 없다.

### 예시

```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main(void)
{
    int arr[2][3] = { {1, 2, 3}, {4, 5, 6} };
    for (int i=0;i<2;i++)
    {
        for (int j = 0; j < 3; j++)
            printf("%d ", arr[i][j]);
        printf("\n");
    }
    printf("\n");
    return 0;
}
```

```
1 2 3
4 5 6
```

## 다차원 배열과 포인터의 관계

### 문법

```c
int (*포인터이름)[크기2] = 배열이름;
```

### 설명

- 다차원 배열의 이름은 첫 번째 행의 시작 주소를 가리킨다.
- 다차원 배열의 이름은 첫 번째 요소의 포인터 형태를 취한다.
- 2차원 배열 `arr` 는 `arr` 자체가 포인터로 작동하며, 배열의 각 행은 또 다른 배열이다.
- 2차원 배열을 포인터로 사용할 경우, 배열을 한 행씩 접근하기 위해 포인터를 선언한다.
- 배열 포인터로 하나의 요소를 나타낼 수 있다.

### 예시

```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main(void)
{
    int arr[2][3] = { {1, 2, 3}, {4, 5, 6} };
    int (*ptr)[3] = arr;

    printf("arr: %p\n", arr);
    printf("ptr: %p\n", ptr);
    printf("*ptr: %p\n\n", *ptr);

    printf("arr[1][2]:         %d\n", arr[1][2]);
    printf("(*(ptr+1))[2]:     %d\n", (*(ptr+1))[2]);
    printf("(*(arr+1))[2]:     %d\n", (*(arr + 1))[2]);
    printf("*(*(arr + 1) + 2): %d\n", *(*(arr + 1) + 2));
    printf("*(arr[1] + 2):     %d\n", *(arr[1] + 2));

    return 0;
}
```

```
arr: 000000DBB3CFF778
ptr: 000000DBB3CFF778
*ptr: 000000DBB3CFF778

arr[1][2]:         6
(*(ptr+1))[2]:     6
(*(arr+1))[2]:     6
*(*(arr + 1) + 2): 6
*(arr[1] + 2):     6
```

## 포인터 연산과 다차원 배열

### 문법

```c
*(*(포인터 + 행) + 열)
```

- 포인터 연산을 이용하여 배열의 원소를 참조 가능

### 설명

- 다차원 배열의 원소에 접근하기 위해 포인터 연산을 사용할 수 있다.
- 포인터를 사용하면 인덱스를 사용하지 않아도 배열을 효율적으로 탐색할 수 있다.

### 예시

```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main(void)
{
    int arr[3][4] =
    {
        {1, 2, 3, 4},
        {5, 6, 7, 8},
        {9, 10, 11, 12}
    };
    int* ptr = (int*)arr;
    // 배열의 주소를 가리키는 포인터
    // 포인터 형변환하여 대입

    for (int i = 0; i < 3; i++) 
    {
        for (int j = 0; j < 4; j++) 
            printf("%d ", *ptr++);
        printf("\n");
    }

    return 0;
}
```

```
1 2 3 4
5 6 7 8
9 10 11 12
```